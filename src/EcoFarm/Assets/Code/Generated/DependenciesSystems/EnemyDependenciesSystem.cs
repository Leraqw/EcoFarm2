//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by EcoFarmCustomGenerator.CodeGeneration.Plugins.ResolveDependenciesSystemGenerator.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using System.Collections.Generic;
using Entitas;

public sealed class ResolveEnemyDependenciesSystem : ReactiveSystem<Entity>
{
	public ResolveEnemyDependenciesSystem(Contexts contexts) : base(contexts.) { }

	protected override ICollector<Entity> GetTrigger(IContext<Entity> context)
		=> context.CreateCollector(Matcher.Enemy);

	protected override bool Filter(Entity entity) => entity.isEnemy;

	protected override void Execute(List<Entity> entites)
	{
		foreach (var e in entites)
		{
			if (!e.HasComponent(ComponentsLookup.HealthComponent)) e.AddComponent(ComponentsLookup.Health, new HealthComponentComponent());
			if (!e.HasComponent(ComponentsLookup.PositionComponent)) e.AddComponent(ComponentsLookup.Health, new PositionComponentComponent());
			if (!e.HasComponent(ComponentsLookup.MovableComponent)) e.AddComponent(ComponentsLookup.Health, new MovableComponentComponent());
		}
	}
}